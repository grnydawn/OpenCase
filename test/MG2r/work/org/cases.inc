REFCASE('make clean; make build FC=ifort FC_FLAGS="-O3"; make run')
!PRERUN('export OMP_NUM_THREADS=4';'export OMP_NUM_THREADS=8';'export OMP_NUM_THREADS=16')1
!SRCGEN(loop_unroll: target={230}*, factor=(4;8;full)1, method=('inc';'const')1)
!SRCGEN(loop_merge: from=(220), to=(30)*)
!SRCGEN(loop_split: before=(250)*)
!SRCGEN(loop_interchange: outer=220, inner=(230)*)
!SRCGEN(name_change: target=(240;250), switch=('ii:ie')*)
!BUILD(make: makefile=Makefile, target=build, FC=gfortran, FC_FLAGS=('-fopenmp -ffree-line-length-none'; (-O2;-O3)1;('-opt-prefetch=0';'-opt-prefetch=3')1))
CLEAN(make: makefile=Makefile, target=clean)
BUILD(make: makefile=Makefile, target=build, FC=ifort, FC_FLAGS=(-O2;-O3)1)
!COMPILE(ifort: flags=('-openmp '; 1(-O2, -O3); *{'-align array64byte'; '-opt-assume-safe-padding'; -opt-prefetch=1(0,3); '-mP2OPT_hlo_fusion=F'; '-no-prec-sqrt'; '-no-prec-div'}))
EXECUTE(make: makefile=Makefile, target=run, repeat=1, sleep=0.3)
MEASURE(etime: prefix='Time per call (usec):')
MEASURE(verify: prefix='micro_mg_tend: Verification')
VERIFY(verify: method='match', pattern='PASSED')
RANK(etime: sort=ascend)
CASEGEN(dtree)
